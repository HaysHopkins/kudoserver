TODO: tests tests tests, change more components to functional/ui, kudos n+1, 